<div
  style="text-align: center; border: 3px solid white; border-radius: 8px; margin-left: auto; margin-right: auto; border-color: white; background-color:  rgb(33, 34, 35); padding-right: 5px; padding-left: 5px; padding-top: 15px; padding-bottom: 15px; max-width: 100%">
  <div style="text-align: center; margin-left: auto; margin-right: auto;">

    <mat-card>
      <mat-card-title>
        <h1>Job Postings</h1>
      </mat-card-title>

      <div
        style="text-align: center; border: 3px solid white; border-radius: 8px; margin-left: auto; margin-right: auto; border-color:white; background-color: white; padding-right: 15px; padding-left: 15px; max-width: 100%">

        <br>
        <div class="dropdown">
          <button class="btn btn-dark " type="button" id="dropdownMenuButton" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false" name="status">
            Status &nbsp;&nbsp;
            <select name="type" [(ngModel)]="statusId">
              <option *ngFor="let stat of jobStatuses" [ngValue]="stat.id">
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <li class="dropdown-item">{{stat.name}}</li>
                </ul>
              </option>
            </select>
          </button>
        </div>
        <br>

        <mat-card-content>
          <div *ngIf="!selected" class="scrollable">
            <table class="table table-striped table-hover table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>Description</th>
                  <th>Start Date</th>
                  <th>Completion Date</th>
                  <th>Posted Date</th>
                  <th>Status</th>
                  <th>View Details</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor='let job of jobPosts | openJob: statusId'>
                  <td>{{job.jobRequirements}}</td>
                  <td>{{job.startDate}}</td>
                  <td>{{job.completionDate}}</td>
                  <td>{{job.datePosted}}</td>
                  <td>{{job.status.name}}</td>
                  <td><button (click)="displayJob(job)" class="badge btn-primary btn-sm">View Job</button></td>
                </tr>
              </tbody>
            </table>
          </div>

          <ngb-accordion *ngIf="selected">
            <ngb-panel title="Job Info">
              <ng-template ngbPanelContent>
                <ul style="text-align: center">
                  <li>Job Description: {{selected.jobRequirements}}</li>
                  <li>Approved Applicants Required: {{selected.developersNeeded}}</li>
                  <li>Is Active: {{selected.jobActive}}</li>
                  <li>Start Date: {{selected.startDate}}</li>
                  <li>Completion Date: {{selected.completionDate}}</li>
                  <li>Date Posted: {{selected.datePosted}}</li>
                  <li>Status: {{selected.status?.name}}</li>
                  <li>Job Type: {{selected.type?.name}}</li>
                </ul>
              </ng-template>
            </ngb-panel>
          </ngb-accordion>
          <br>
          <button (click)="selected = null" class="button btn-success btn">Go Back</button>
        </mat-card-content>
      </div>
    </mat-card>
  </div>
</div>
